<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+5 of 2017-05-18">
<link rel="stylesheet" type="text/css" href="cascmd_en.css">
<title>Solving the transportation problems: tpsolve
</title>
</head>
<body >
<a href="cascmd_en535.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en537.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<h3 id="sec688" class="subsection">6.52.3  Solving the transportation problems: <span style="font-family:monospace">tpsolve</span>
<a id="hevea_default932"></a></h3>
<p>The objective of a transportation problem is to minimize the cost of
distributing a product from <span style="font-style:italic">m</span> sources to <span style="font-style:italic">n</span> destinations. It is
determined by three parameters:
</p><ul class="itemize"><li class="li-itemize">
<span style="font-weight:bold"><span style="font-style:italic">s</span></span>=(<span style="font-style:italic">s</span><sub>1</sub>,<span style="font-style:italic">s</span><sub>2</sub>,…,<span style="font-style:italic">s</span><sub><span style="font-style:italic">m</span></sub>), the supply vector, where 
<span style="font-style:italic">s</span><sub><span style="font-style:italic">k</span></sub>∈ℤ<sup>+</sup> is the maximum number of units that can
be delivered from the <span style="font-style:italic">k</span>th source for <span style="font-style:italic">k</span>=1,2,…,<span style="font-style:italic">m</span>, 
</li><li class="li-itemize"><span style="font-weight:bold"><span style="font-style:italic">d</span></span>=(<span style="font-style:italic">d</span><sub>1</sub>,<span style="font-style:italic">d</span><sub>2</sub>,…,<span style="font-style:italic">d</span><sub><span style="font-style:italic">n</span></sub>), the demand vector 
<span style="font-weight:bold"><span style="font-style:italic">d</span></span>=(<span style="font-style:italic">d</span><sub>1</sub>,<span style="font-style:italic">d</span><sub>2</sub>,…,<span style="font-style:italic">d</span><sub><span style="font-style:italic">n</span></sub>) , where  <span style="font-style:italic">d</span><sub><span style="font-style:italic">k</span></sub>∈ℤ<sup>+</sup> 
is the minimum number of units required by the <span style="font-style:italic">k</span>th destination for
<span style="font-style:italic">k</span>=1,2,…,<span style="font-style:italic">n</span> 
</li><li class="li-itemize"><span style="font-weight:bold"><span style="font-style:italic">C</span></span>=[<span style="font-style:italic">c</span><sub><span style="font-style:italic">ij</span></sub>]<sub><span style="font-style:italic">m</span>× <span style="font-style:italic">n</span></sub>, the cost matrix, where
<span style="font-style:italic">c</span><sub><span style="font-style:italic">ij</span></sub>∈ℝ<sup>+</sup> is the cost of transporting one
unit of product from the <span style="font-style:italic">i</span>th source to the <span style="font-style:italic">j</span>th destination, for 
<span style="font-style:italic">i</span>=1,2,…,<span style="font-style:italic">m</span> and <span style="font-style:italic">j</span>=1,2,…,<span style="font-style:italic">n</span>. 
</li></ul><p>
An optimal solution is represented by the matrix 
<span style="font-weight:bold"><span style="font-style:italic">X</span></span><sup>*</sup>=(<span style="font-style:italic">x</span><sub><span style="font-style:italic">ij</span></sub><sup>*</sup>), where <span style="font-style:italic">x</span><sub><span style="font-style:italic">ij</span></sub><sup>*</sup> is number of
units that must be transported from the <span style="font-style:italic">i</span>th source to the <span style="font-style:italic">j</span>th
destination for <span style="font-style:italic">i</span>=1,2,…,<span style="font-style:italic">m</span> and <span style="font-style:italic">j</span>=1,2,…,<span style="font-style:italic">n</span>. </p><p>The <span style="font-family:monospace">tpsolve</span> command solves the transportation problem.
</p><ul class="itemize"><li class="li-itemize">
<span style="font-family:monospace">tpsolve</span> takes three arguments:
<ul class="itemize"><li class="li-itemize">
<span style="font-style:italic">s</span>, the supply vector.
</li><li class="li-itemize"><span style="font-style:italic">d</span>, the demand vector.
</li><li class="li-itemize"><span style="font-style:italic">C</span>, the cost matrix.
</li></ul>
</li><li class="li-itemize"><span style="font-family:monospace">tpsolve(</span><span style="font-style:italic">s</span>,<span style="font-style:italic">d</span>,<span style="font-style:italic">C</span><span style="font-family:monospace">)</span> returns a sequence <span style="font-style:italic">c</span>,<span style="font-style:italic">X</span><sup>*</sup>, where 
<span style="font-style:italic">X</span><sup>*</sup> is the optimal solution and
<span style="font-style:italic">c</span>=∑<sub><span style="font-style:italic">i</span>=1</sub><sup><span style="font-style:italic">m</span></sup>∑<sub><span style="font-style:italic">j</span>=1</sub><sup><span style="font-style:italic">n</span></sup><span style="font-style:italic">c</span><sub><span style="font-style:italic">ij</span></sub> <span style="font-style:italic">x</span><sub><span style="font-style:italic">ij</span></sub><sup>*</sup> is the total (minimal)
cost of transportation.
</li></ul><p><br>
</p><p><span style="font-weight:bold">Example.</span><br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">s:=[12,17,11];d:=[10,10,10,10];</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">C:=[[50,75,30,45],[65,80,40,60],[40,70,50,55]];</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">tpsolve(s,d,C)</span>
</td></tr>
</table>
</div><p>
<span style="font-style:italic">Output:</span>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">2020,</td><td class="dcell">⎡<br>
⎢<br>
⎢<br>
⎣</td><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >2</td><td style="text-align:center;white-space:nowrap" >10</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >9</td><td style="text-align:center;white-space:nowrap" >8</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >10</td><td style="text-align:center;white-space:nowrap" >1</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
</table></td><td class="dcell">⎤<br>
⎥<br>
⎥<br>
⎦</td></tr>
</table><p><br>
</p><p>If the total supply and total demand are equal, i.e. if 
∑<sub><span style="font-style:italic">i</span>=1</sub><sup><span style="font-style:italic">m</span></sup> <span style="font-style:italic">s</span><sub><span style="font-style:italic">i</span></sub>=∑<sub><span style="font-style:italic">j</span>=1</sub><sup><span style="font-style:italic">n</span></sup> <span style="font-style:italic">d</span><sub><span style="font-style:italic">j</span></sub> holds, the transportation problem
is said to be <em>closed</em> or <em>balanced</em>, otherwise it is 
said to be <em>unbalanced</em>. The excess
supply/demand is covered by adding a dummy demand/supply point with
zero cost of “transportation” from/to that point. The 
<span style="font-family:monospace">tpsolve</span> command handles such cases automatically.</p><p><br>
</p><p><span style="font-weight:bold">Example.</span><br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">s:=[7,10,8,8,9,6];d:=[9,6,12,8,10];</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">C:=[[36,40,32,43,29],[28,27,29,40,38],[34,35,41,29,31],</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">[41,42,35,27,36],[25,28,40,34,38],[31,30,43,38,40]];</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">tpsolve(s,d,C)</span>
</td></tr>
</table>
</div><p>
<span style="font-style:italic">Output:</span>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">1275,</td><td class="dcell">⎡<br>
⎢<br>
⎢<br>
⎢<br>
⎢<br>
⎢<br>
⎢<br>
⎣</td><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >2</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >5</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >10</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >5</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >8</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >9</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >6</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
</table></td><td class="dcell">⎤<br>
⎥<br>
⎥<br>
⎥<br>
⎥<br>
⎥<br>
⎥<br>
⎦</td></tr>
</table><p><br>
</p><p>Sometimes it is desirable to forbid transportation on certain routes.
That is usually achieved by setting a very high cost,
represented by a symbol (usually <span style="font-style:italic">M</span>), to these routes.
Hence all instances of a symbol in the cost matrix are automatically replaced
by a practically infinite number (precisely
(<span style="font-style:italic">m</span> <span style="font-style:italic">n</span> + 1)/ε, where ε is returned
by <span style="font-family:monospace">epsilon</span>), which forces the algorithm to avoid the associated routes. </p><p><br>
</p><p><span style="font-weight:bold">Example.</span><br>
<span style="font-style:italic">Input:</span>
</p><div class="center">
<table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">s:=[95,70,165,165];d:=[195,150,30,45,75];</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">C:=[[15,M,45,M,0],[12,40,M,M,0],[0,15,25,25,0],[M,0,M,12,0]]</span></td></tr>
<tr><td style="text-align:left;white-space:nowrap" ><span style="font-family:monospace">tpsolve(s,d,C)</span>
</td></tr>
</table>
</div><p>
<span style="font-style:italic">Output:</span>
</p><table class="display dcenter"><tr style="vertical-align:middle"><td class="dcell">2820,</td><td class="dcell">⎡<br>
⎢<br>
⎢<br>
⎢<br>
⎣</td><td class="dcell"><table style="border-spacing:6px;border-collapse:separate;" class="cellpading0"><tr><td style="text-align:center;white-space:nowrap" >20</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >75</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >70</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >105</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >30</td><td style="text-align:center;white-space:nowrap" >30</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
<tr><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >150</td><td style="text-align:center;white-space:nowrap" >0</td><td style="text-align:center;white-space:nowrap" >15</td><td style="text-align:center;white-space:nowrap" >0</td></tr>
</table></td><td class="dcell">⎤<br>
⎥<br>
⎥<br>
⎥<br>
⎦</td></tr>
</table>
<hr>
<a href="cascmd_en535.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_en537.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
