<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="hevea 2.29+5 of 2017-05-18">
<link rel="stylesheet" type="text/css" href="cascmd_fr.css">
<title>Appliquer une fonction d’une variable aux éléments d’une liste : map apply of</title>
</head>
<body >
<a href="cascmd_fr541.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_fr543.html"><img src="next_motif.gif" alt="Next"></a>
<hr>
<h3 id="sec671" class="subsection">6.42.37  Appliquer une fonction d’une variable aux éléments d’une liste : <span style="font-family:monospace">map apply of</span></h3>
<p><a id="hevea_default972"></a><a id="hevea_default973"></a><a id="hevea_default974"></a><a id="hevea_default975"></a><a id="hevea_default976"></a>
<span style="font-family:monospace">map</span> ou <span style="font-family:monospace">apply</span> ou <span style="font-family:monospace">of</span> sert à appliquer une fonction 
aux éléments d’une liste. Mais ces trois instructions ne sont pas des 
synonymes. On a :
</p><ul class="itemize"><li class="li-itemize">
<span style="font-family:monospace">of</span> a 2 paramètres une fonction <span style="font-family:monospace">f</span> et une expression <span style="font-family:monospace">E</span> 
ou une liste <span style="font-family:monospace">L</span>. <span style="font-family:monospace">of(f,E)</span> renvoie <span style="font-family:monospace">f(E)</span> et <span style="font-family:monospace">of(f,L)</span> renvoie 
<span style="font-family:monospace">f(L)</span>. En effet, <span style="font-family:monospace">of</span> est la traduction interne des parenthèses : 
<span style="font-family:monospace">f(x)</span> est traduit en interne par <span style="font-family:monospace">of(f,x)</span>. On peut donc utiliser 
directement <span style="font-family:monospace">f(x)</span>, 
</li><li class="li-itemize"><span style="font-family:monospace">apply</span> a 2 paramètres une fonction <span style="font-family:monospace">f</span> et une liste <span style="font-family:monospace">L</span>. 
<span style="font-family:monospace">apply(f,L)</span> renvoie <span style="font-family:monospace">[f(L[0]),f(L[1]),...f(L[size(L)-1])]</span>.<br>
<span style="font-weight:bold">Attention</span><br>
<span style="font-family:monospace">apply</span> rèpond <span style="font-family:monospace">[]</span> si le deuxième élément 
n’est pas une liste.<br>
</li><li class="li-itemize"><span style="font-family:monospace">map</span> a 2 paramètres une expression <span style="font-family:monospace">E</span> ou une liste <span style="font-family:monospace">L</span> 
et une fonction <span style="font-family:monospace">f</span>.<br>
<span style="font-family:monospace">map(E,f)</span> renvoie <span style="font-family:monospace">f(E)</span> et <br>
<span style="font-family:monospace">map(L,f)</span> renvoie <span style="font-family:monospace">[f(L[0]),f(L[1]),...f(L[size(L)-1])]</span>.<br>
<span style="font-weight:bold">Attention</span> à l’ordre des paramètres qui n’est pas 
le même pour <span style="font-family:monospace">map</span> et pour <span style="font-family:monospace">apply</span> , c’est pour des raisons de 
compatibilité!!!.<br>
Lorsque la liste est une matrice et que la fonction doit s’appliquer à chaque
élément d’une matrice il faut mettre <span style="font-family:monospace">matrix</span> comme argument optionnel 
à <span style="font-family:monospace">map</span> 
</li></ul><p>
On tape :
</p><div class="center"><span style="font-family:monospace">apply(x-&gt;x+1,[3,5,1])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([3,5,1],x-&gt;x+1)</span></div><p>
cela ajoute 1 à chaque élément de la liste et on obtient :
</p><div class="center"><span style="font-family:monospace">[4,6,2]</span></div><p>
<span style="font-weight:bold">Remarque</span><br>
<span style="font-family:monospace">seq(expression,variable,liste)</span> équivaut à :<br>
<span style="font-family:monospace">map(liste,unapply(expression,variable))</span>.<br>
On tape :
</p><div class="center"><span style="font-family:monospace">seq(x+1,x,[3,5,1])</span></div><p>
ou en utilisant <span style="font-family:monospace">unapply</span> pour définir une fonction à partir d’une 
expression
</p><div class="center"><span style="font-family:monospace">map([3,5,1],unapply(x+1,x))</span></div><p>
cela ajoute 1 à chaque élément de la liste et on obtient :
</p><div class="center"><span style="font-family:monospace">[4,6,2]</span></div><p>On tape <br>
</p><div class="center"><span style="font-family:monospace">of(x-&gt;x+1,[3,5,1])</span></div><p>
et puisque <span style="font-family:monospace">[3,5,1]+1=[3,5,2]</span>, on obtient :
</p><div class="center"><span style="font-family:monospace">[3,5,2]</span></div><p>
<span style="font-weight:bold">Exemple avec une matrice</span><br>
On tape :
</p><div class="center"><span style="font-family:monospace">apply(x-&gt;x+1,[[3,5,1],[3,5,1],[3,5,1]])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([[3,5,1],[3,5,1],[3,5,1]],x-&gt;x+1)</span></div><p>
cela ajoute 1 à chaque élément de la liste c’est à dire à chaque 
ligne de la matrice et comme <span style="font-family:monospace">[3,5,1]+1=[3,5,2]</span>, on obtient :
</p><div class="center"><span style="font-family:monospace">[[3,5,2],[3,5,2],[3,5,2]]</span></div><p>
On tape :
</p><div class="center"><span style="font-family:monospace">of(x-&gt;x+1,[[3,5,1],[3,5,1],[3,5,1]])</span></div><p>
cela ajoute 1 c’est à dire la matrice identité à la matrice et 
on obtient :
</p><div class="center"><span style="font-family:monospace">[[4,5,1],[3,6,1],[3,5,2]]</span></div><p>
On tape :
</p><div class="center"><span style="font-family:monospace">map([[3,5,1],[3,5,1],[3,5,1]],x-&gt;x+1,matrix)</span></div><p>
cela ajoute 1 à chaque élément de la matrice et on obtient :
</p><div class="center"><span style="font-family:monospace">[[4,6,2],[4,6,2],[4,6,2]]</span></div><p>
<span style="font-weight:bold">Autres exemples</span>
On tape :
</p><div class="center"><span style="font-family:monospace">apply(x-&gt;x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2,[3,5,1])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">of(x-&gt;x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2,[3,5,1])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([3,5,1],x-&gt;x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2)</span></div><p>
ou on définit la fonction <span style="font-style:italic">h</span>(<span style="font-style:italic">x</span>)=<span style="font-style:italic">x</span><sup>2</sup> en tapant :
</p><div class="center"><span style="font-family:monospace">h(x):=x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2</span></div><p> 
puis
</p><div class="center"><span style="font-family:monospace">apply(h,[3,5,1])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">of(h,[3,5,1])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([3,5,1],h)</span></div><p>
On obtient :
</p><div class="center"><span style="font-family:monospace">[9,25,1]</span></div><p>
On tape :
</p><div class="center"><span style="font-family:monospace">apply(h,[[3,5,1],[3,5,1],[3,5,1]])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([[3,5,1],[3,5,1],[3,5,1]],h)</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([[3,5,1],[3,5,1],[3,5,1]],h,matrix)</span></div><p>
On obtient chaque èlement au carré :
</p><div class="center"><span style="font-family:monospace">[[9,25,1],[9,25,1],[9,25,1]]</span></div><p>
On tape :
</p><div class="center"><span style="font-family:monospace">of(h,[[3,5,1],[3,5,1],[3,5,1]])</span></div><p>
On obtient le carré de la matrice :
</p><div class="center"><span style="font-family:monospace">[[27,45,9],[27,45,9],[27,45,9]]</span></div><p>On définit la fonction <span style="font-style:italic">g</span>(<span style="font-style:italic">x</span>)=[<span style="font-style:italic">x</span>,<span style="font-style:italic">x</span><sup>2</sup>,<span style="font-style:italic">x</span><sup>3</sup>] en tapant :
</p><div class="center"><span style="font-family:monospace">g(x):=[x,x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2,x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">3]</span></div><p>
ou 
</p><div class="center"><span style="font-family:monospace">g:=(x)-&gt;[x,x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">2,x</span><code><span style="font-family:monospace">^</span></code><span style="font-family:monospace">3]</span></div><p> 
puis, on tape :
</p><div class="center"><span style="font-family:monospace">apply(g,[3,5,1])</span></div><p>
ou
</p><div class="center"><span style="font-family:monospace">map([3,5,1],g)</span></div><p>
On fait agir <span style="font-style:italic">g</span> sur 3, puis sur 5, puis sur 1 et on obtient :
</p><div class="center"><span style="font-family:monospace">[[3,9,27],[5,25,125],[1,1,1]]</span></div><p>
On tape :
</p><div class="center"><span style="font-family:monospace">of(g,[3,5,1])</span></div><p>
On fait agir <span style="font-style:italic">g</span> sur la liste [3,5,1] et on obtient :
</p><div class="center"><span style="font-family:monospace">[[3,5,1],[9,25,1],[27,125,1]] </span></div><p>
<span style="font-weight:bold">Remarque</span> <br>
 Si <span style="font-family:monospace">l1,l2,l3</span> sont des listes :<br>
 <span style="font-family:monospace">sizes([l1,l2,l3])=map(size,[l1,l2,l3])</span>
</p>
<hr>
<a href="cascmd_fr541.html"><img src="previous_motif.gif" alt="Previous"></a>
<a href="index.html"><img src="contents_motif.gif" alt="Up"></a>
<a href="cascmd_fr543.html"><img src="next_motif.gif" alt="Next"></a>
</body>
</html>
