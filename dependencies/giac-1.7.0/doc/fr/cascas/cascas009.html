<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<META name="GENERATOR" content="hevea 1.10">
<LINK rel="stylesheet" type="text/css" href="cascas.css">
<TITLE>Pour s’amuser avec les probabilités</TITLE>
</HEAD>
<BODY >
<A HREF="cascas008.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC="contents_motif.gif" ALT="Up"></A>
<A HREF="cascas010.html"><IMG SRC="next_motif.gif" ALT="Next"></A>
<HR>
<H1 CLASS="chapter"><A NAME="htoc150">Chapitre 9</A>  Pour s’amuser avec les probabilités</H1><H2 CLASS="section"><A NAME="toc59"></A><A NAME="htoc151">9.1</A>  Les anniversaires de 3 personnes</H2><P>
Trois amis sont nès une même annèe de 365 jours.<BR>
On suppose que les dates de naissance sont équiprobables.<BR>
Quelles sont les probabilités pour que :</P><P>1/ Ils soient nés le même jour,</P><P>2/ Deux d’entre eux seulement soient nés le même jour,</P><P>3/ Ils soient nés a des dates différentes,</P><P>4/ Quelle relation vérifie ces trois réponses ?<BR>

<B>Solution</B><BR>
On donne un numéro aux amis, i.e. on les ordonne.<BR>
Soit Ω l’univers ensemble de triplets de nombres allant de 1 à 365.
Il y a 365<SUP>3</SUP> triplets possibles, donc <I>card</I>(Ω)=365<SUP>3</SUP>.</P><P>1/ Soit <I>A</I> l’événement "Ils sont tous les trois nés le même jour". cela signifie que 
<I>A</I> est composé de triplés formés par 3 nombres égaux donc, 
<I>card</I>(<I>A</I>)=365.<BR>
Donc, <I>p</I>(<I>A</I>)=365/365<SUP>3</SUP>=1/365<SUP>2</SUP>≃ 7.5<I>e</I>−06.</P><P>2/ Soit <I>B</I> l’événement "Deux seulement sont nés le même jour".
<I>B</I> est composé de triplés formés par 2 nombres égaux et différents 
du 3-ième. Il y a trois possibilités (les deux premiers ou les deux 
derniers ou le premier et le troisième) ont le même anniversaire donc,
comme il y a 365*364 couples de nombres différents, <I>card</I>(<I>B</I>)=3*365*364.<BR>
Donc, <I>p</I>(<I>B</I>)=3*365*364/365<SUP>3</SUP>=3*364/365<SUP>2</SUP>≃ 0.0082.</P><P>3/ Soit <I>C</I> l’événement "Ils sont nés a des dates différentes".
<I>C</I> est composé de triplés formés par 3 nombres différents donc,
comme il y a 365*364*363 triplets formés de 3 nombres différents, on a
<I>card</I>(<I>C</I>)=365*364*363.<BR>
Donc, <I>p</I>(<I>C</I>)=365*364*363/365<SUP>3</SUP>=364*363/365<SUP>2</SUP>≃ 0.99.</P><P>4/ On doit avoir <I>p</I>(<I>A</I>)+<I>p</I>(<I>B</I>)+<I>p</I>(<I>C</I>)=1 puisque <I>A</I>,<I>B</I>,<I>C</I> forment une partition de 
Ω. on a :<BR>
1+3*364+364*363=1+364*366=1+(365−1)(365+1)=365<SUP>2</SUP><BR>
donc on a bien : <I>p</I>(<I>A</I>)+<I>p</I>(<I>B</I>)+<I>p</I>(<I>C</I>)=1.<BR>
</P><H2 CLASS="section"><A NAME="toc60"></A><A NAME="htoc152">9.2</A>  Les anniversaires de <TT>n</TT> personnes</H2><P>
Dans une assemblée de <TT>n</TT> personnes, toutes sont nèes une annèe de 
365 jours.<BR>
On suppose que les dates de naissance sont équiprobables.<BR>
On note <TT>p(n)</TT> la probabilité pour que 2 personnes au moins aient leur 
anniversaire le même jour.</P><P>1/ Calculer <TT>p(3)</TT>,</P><P>2/ Donner la formule permettant de calculer <TT>p(n)</TT>,</P><P>3/ Déterminer une valeur approchée de 
<TT>p(20)</TT>, <TT>p(30)</TT> et <TT>p(367)</TT>,</P><P>4/ Déterminer le nombre <TT>n</TT> pour que l’on ait 
<TT><I>p</I>(<I>n</I>)≥ </TT><TT>1/2</TT>.<BR>

<B>Solution</B><BR>
On donne un numéro aux personnes de l’assemblée, i.e. on les ordonne.<BR>
Soit Ω l’univers ensemble des <TT>n</TT>-uplets de nombres entiers de 1 
à 365.<BR>
Il y a <TT>365</TT><SUP><TT><I>n</I></TT></SUP> triplets possibles, donc <TT><I>card</I>(Ω)=365</TT><SUP><TT><I>n</I></TT></SUP>.</P><P>1/ D’après l’exercice précédent, <TT>p(3)</TT>=<I>p</I>(<I>A</I>)+<I>p</I>(<I>B</I>)=1+3*364/365<SUP>2</SUP>≃ 0.0082.</P><P>2/ On va tout d’abord chercher la probabilité de l’événement contraire :
soit <I>D</I><SUB><I>n</I></SUB> l’événement "Les <TT>n</TT> personnes ont leurs anniversaires 
a des dates toutes différentes".</P><P>Il y a <TT>365*364*...*365-<I>n</I>+1</TT> triplets formés de nombres différents 
deux à deux, donc <I>card</I>(<I>D</I><SUB><I>n</I></SUB>)=365*364*...365−<I>n</I>+1=365!/(365−<I>n</I>)!.<BR>
Donc  <I>p</I>(<I>D</I><SUB><I>n</I></SUB>)=365!/(365−<I>n</I>)!*365<SUP><I>n</I></SUP>=364!/(365−<I>n</I>)!*365<SUP><I>n</I>−1</SUP>,<BR>
et donc  <I>p</I>(<I>n</I>)=1−<I>p</I>(<I>D</I><SUB><I>n</I></SUB>)=(365−<I>n</I>)!*365<SUP><I>n</I></SUP>−365!/(365−<I>n</I>)!*365<SUP><I>n</I></SUP>=(365−<I>n</I>)!*365<SUP><I>n</I>−1</SUP>−364!/(365−<I>n</I>)!*365<SUP><I>n</I>−1</SUP>.<BR>
Avec <TT>Xcas</TT> on peut définir <TT>p(n)</TT> on tape :<BR>
<TT>p(n):=1-factorial(364)/(factorial(365-n)*365</TT><CODE><TT>^</TT></CODE><TT>(n-1))</TT></P><P>3/ Calculons avec <TT>Xcas</TT>, on tape :<BR>
<TT>evalf(perm(365,19)/365</TT><CODE><TT>^</TT></CODE><TT>19)</TT><BR>
 On obtient :<BR>
<TT>0.588561616419</TT><BR>
donc <I>p</I>(<I>D</I><SUB>20</SUB>)≃ 0.588561616419 et<BR>
<TT>p(20)</TT>≃ (1−0.588561616419) ≃ <TT>0.411438383581</TT><BR>
Ou on tape :<BR>
<TT>evalf(p(20))</TT><BR>
On obtient :<BR>
<TT>0.411438383581</TT><BR>
On tape :<BR>
<TT>evalf(perm(364,22)/365</TT><CODE><TT>^</TT></CODE><TT>22)</TT><BR>
On obtient :<BR>
<TT>0.492702765676</TT><BR>
donc <I>p</I>(<I>D</I><SUB>23</SUB>)≃ 0.492702765676 et<BR>
<TT>p(25)</TT>≃ (1−0.492702765676) ≃ <TT>0.507297234324</TT><BR>
Ou on tape :<BR>
<TT>evalf(p(23))</TT><BR>
On obtient :<BR>
<TT>0.507297234324</TT><BR>
On tape :<BR>
<TT>evalf(perm(365,29)/365</TT><CODE><TT>^</TT></CODE><TT>29)</TT><BR>
On obtient :<BR>
<TT>0.293683757281</TT><BR>
donc <I>p</I>(<I>D</I><SUB>30</SUB>)≃ 0.293683757281 et<BR>
<TT>p(30)</TT>≃ (1−0.293683757281) ≃ <TT>0.706316242719</TT><BR>
Ou on tape :<BR>
<TT>evalf(p(30))</TT><BR>
On obtient :<BR>
<TT>0.706316242719</TT><BR>
Ce qui veut dire que dans une assemblée de 
20 personnes il y a 4 chances sur 10 pour que 2 personnes aient le même 
anniversaire, que dans une assemblée de 23 personnes il y a 1 chance sur 
2 pour que 2 personnes aient le même anniversaire et que dans une 
assemblée de 30 personnes il y a 7 chances sur 
10 pour que 2 personnes aient le même anniversaire !!!!<BR>
Pour calculer <I>p</I>(367), on n’a pas besoin de <TT>Xcas</TT> car :<BR>
 <I>p</I>(367)=1 puisqu’il n’y a que 365 dates possibles (ou 366 ...) parmi
les 367 personnes et donc deux personnes au moins ont forcément le même 
anniversaire.</P><P>4/ On va utiliser le tableur pour chercher <I>p</I>(20)..<I>p</I>(30), pour cela on tape 
dans <TT>A0</TT>..<TT>A10</TT> les valeurs de <I>p</I>(<I>D</I><SUB>20</SUB>)..<I>p</I>(<I>D</I><SUB>30</SUB>) :<BR>
 <TT>=evalf(perm(365,20+Row())/365</TT><CODE><TT>^</TT></CODE><TT>(20+Row()))</TT><BR>
et dans <TT>B0</TT> ..<TT>B10</TT> les valeurs de <I>p</I>(20)..<I>p</I>(30) :<BR>
 <TT>=1-A0</TT><BR>
Puis, on remplit les colonnes <TT>A</TT> et <TT>B</TT> avec ces formules à l’aide
du bouton <TT>remplir</TT> (option <TT>vers le bas</TT>).<BR>
On rapelle que pour avoir la valeur d’une cellule dans la ligne de commande,
on doit appuyer sur le bouton <TT>eval</TT>.<BR>
On obtient :<BR>
<TT>B2=0.475695307663</TT> et <TT>B3=0.507297234324</TT><BR>
donc <I>n</I>=23 car on a :<BR>
<I>p</I>(23)=0.507297234324&gt;0.5 et<BR>
pour <I>n</I>=22 <I>p</I>(22)=0.475695307663&lt;0.5.<BR>
On peut aussi taper dans <TT>C0</TT> :<BR>
<TT>=20+count_inf(0.5,B0:B10)</TT><BR>
car on sait que 20&lt;<I>n</I>&lt;30 et que <TT>coun_inf(0.5,B0:B10)</TT> est la fonction 
qui compte le nombre d’éléments stricrement inférieurs à 0.5 dans la 
colonne <TT>B</TT> (de <TT>B0</TT> à <TT>B10</TT>).<BR>
 On a mis 20 car il a <TT>19+count_inf(0.5,B0:B10)</TT> valeurs stricrement 
inférieures à 0.5 et donc <TT>20+count_inf(0.5,B0:B10)</TT> est la 
première valeur supérieure ou égale à 0.5.<BR>
On obtient dans <TT>C0</TT> :<BR>
<TT>23</TT><BR>
On remarqera que :<BR>
<TT>B21=0.903151611482</TT><BR>
Ce qui veut dire que dans une assemblée de 41 personnes il y a 9 chances sur 
10 pour que 2 personnes aient le même anniversaire !!!!</P><P>5/ On peut dessiner l’évolution des <TT>p(n)</TT> en fonction de <TT>n</TT> lorsque
<TT>n</TT> varie entre 20 et 50.
Il suffit poir cela de rajouter une colonne entre 
<TT>A</TT> et <TT>B</TT> on met <TT>B0</TT> en surbrillance et on appuie sur 
<TT>c+</TT>. La colonne <TT>B</TT> devient <TT>C</TT>, et une colonne <TT>B</TT> est 
créée.<BR>
On tape alors <TT>0</TT> dans <TT>B0</TT>, puis dans <TT>B1</TT> on met
<TT>=B0+1</TT> puis on remplit la colonne <TT>B</TT> avec cette formule.<BR>
Il suffit maintenant de mettre en surbrillance <TT>B0:C30</TT> puis d’ouvrir le 
menu <TT>2d</TT> et de choisir <TT>Scatterplot</TT> pour voir les différents 
points dans l’écran de géométrie (changer la configuration du 
graphique pour voir tous les points).
</P><H2 CLASS="section"><A NAME="toc61"></A><A NAME="htoc153">9.3</A>  Les 4 dés du jeu de Win</H2><P><A NAME="sec:win"></A>
On considère les 4 dés suivants :
</P><UL CLASS="itemize"><LI CLASS="li-itemize">
les faces du dé <TT>A</TT> ont comme points : <TT>0,0,4,4,4,4</TT>, 
</LI><LI CLASS="li-itemize">les faces du dé <TT>B</TT> ont comme points : <TT>1,1,1,5,5,5</TT>,
</LI><LI CLASS="li-itemize">les faces du dé <TT>C</TT> ont comme points : <TT>2,2,2,2,6,6</TT>,
</LI><LI CLASS="li-itemize">les faces du dé <TT>D</TT> ont comme points : <TT>3,3,3,3,3,3</TT>,
</LI></UL><P>
La partie se compose de 12 lancers.<BR>
Pour une partie, chacun des joueurs 
choisit un dé. À chaque lancer, celui
qui a le meilleur score marque 1 point. La partie se compose de 12 lancers.<BR>
On veut simuler ce jeu pour que l’on puisse jouer contre l’ordinateur.
L’ordinateur tire au hasard un dé, vous donne son choix, puis vous
choisisez un parmi les 3 dés qui restent. Puis vous jouez....<BR>
Quel dé faut-il choisir pour gagner contre l’ordinateur ?<BR>
On numérote les faces de chaque dé : par exemple, par ordre croissant des 
points des faces, ainsi pour le dé <TT>A</TT> les faces 0,1 ont comme 
points 0 et les faces 2,3,4,5 ont comme points 4. 
Pour jouer avec un dé, on tire au hasard un nombre entier entre 0 et 
5 (<TT>rand(6)</TT>) pour voir sur quelle face tombe le dé, puis on regarde le 
nombre de points de cette face. Ce nombre dépend du dé choisi.<BR>
On écrit donc une fonction qui renvoie pour chaque dé la valeur de
la face <TT>n</TT> du dé. 
</P><PRE CLASS="verbatim">rande(des,n):={
if (des=="A"){if (n==0 or n==1) return 0 ;
                             else return 4;};
if (des=="B"){if (n==0 or n==1 or n==2) return 1; 
                             else return 5;};
if (des=="C"){if (n==4 or n==5) return 6;
                             else return 2;};
return 3;
}:;
</PRE><P>Puis on écrit le programme qui correspond a une partie (12 lancers pour 
chacun) et qui renvoie la liste des scores (ordinateur,joueur).
</P><PRE CLASS="verbatim">jeuwin0():={
local deo,dem,po,pm,scoro,j;
deo:=char(rand(4)+65);
print("j'ai choisi le de "+ deo);
repeter saisir_chaine("votre choix",dem);
jusqua dem!=deo;
scoro:=0;
for (j:=0;j&lt;12;j++){
po:=rande(deo,rand(6));
pm:=rande(dem,rand(6));
print(po,pm);
if (po&gt;pm) scoro:=scoro+1;
}
return [scoro,12-scoro];
}
:;
</PRE><P>On peut aussi utiliser les listes A,B,C,D pour representer chaque dé, et le 
programme devient beaucoup plus simple (on n’a pas besoin de la fonction
<TT>rande</TT> !!!!) mais il faut transformer le caractère contenu dans 
<TT>deo</TT> (par ex <TT>"A"</TT>) en <TT>expr(deo)</TT> (par ex en la valeur de la 
variable <TT>A</TT>). Pour <TT>dem</TT> on ne saisit plus une chaine mais directement
le nom d’une variable avec <TT>saisir(dem)</TT> au lieu de <TT>saisir_chaine(dem)</TT>.
</P><PRE CLASS="verbatim">jeuwin():={
local deo,dem,po,pm,scoro,j,A,B,C,D;
deo:=char(rand(4)+65);
print("j'ai choisi le de "+ deo);
A:=[0,0,4,4,4,4];
B:=[1,1,1,5,5,5];
C:=[2,2,2,2,6,6];
D:=[3,3,3,3,3,3];
deo:=expr(deo);
repeter saisir("votre choix",dem);
jusqua dem!=deo;
scoro:=0;
for (j:=0;j&lt;12;j++){
po:=deo[rand(6)];
pm:=dem[rand(6)];
print(po,pm);
if (po&gt;pm) scoro:=scoro+1;
}
return [scoro,12-scoro];
}
:;
</PRE><P>On peut ensuite faire plusieurs parties. On tape :<BR>
<TT>score:=[0,0];</TT><BR>
puis par exemple<BR>
<TT>score:=score+jewin()</TT><BR>
plusieurs fois et on obtient les scores cumulés.</P><P>Pour savoir quel dé il faut choisir, on cherche la probabilité
que l’ordinateur gagne selon les différents choix :
</P><OL CLASS="enumerate" type=1><LI CLASS="li-enumerate">
l’ordinateur a choisi le dé <TT>A</TT>,
<UL CLASS="itemize"><LI CLASS="li-itemize">
si vous choisissez le dé <TT>B</TT>,<BR>
L’ordinateur gagne si le dé <TT>A</TT> fait quatre et le dé <TT>B</TT> fait un,
donc 
<TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>P</I>(<I>nA</I>&gt;<I>nB</I>)=(4/6)*(3/6)=1/3</TD></TR>
</TABLE>
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>C</TT>,<BR>
L’ordinateur gagne si le dé <TT>A</TT> fait quatre et le dé <TT>C</TT> fait deux,
donc 
<TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>P</I>(<I>nA</I>&gt;<I>nC</I>)=(4/6)*(4/6)=4/9</TD></TR>
</TABLE> 
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>D</TT>,<BR>
L’ordinateur gagne si le dé <TT>A</TT> fait quatre, donc 
<TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>P</I>(<I>nA</I>&gt;<I>nD</I>)=(4/6)=2/3</TD></TR>
</TABLE> 
</LI></UL>
Il faut donc choisir le dé <TT>B</TT> pour gagner avec une probabilité de 2/3.
</LI><LI CLASS="li-enumerate">l’ordinateur a choisi le dé <TT>B</TT>,
<UL CLASS="itemize"><LI CLASS="li-itemize">
si vous choisissez le dé <TT>C</TT>,<BR>
L’ordinateur gagne si le dé <TT>B</TT> fait cinq et le dé <TT>C</TT> fait deux,
donc 
<TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>P</I>(<I>nB</I>&gt;<I>nC</I>)=(3/6)*(4/6)=1/3</TD></TR>
</TABLE> 
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>D</TT>,<BR>
L’ordinateur gagne si le dé <TT>B</TT> fait cinq,
donc 
<TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>P</I>(<I>nB</I>&gt;<I>nD</I>)=(3/6)=1/2</TD></TR>
</TABLE> 
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>A</TT>,<BR>
cas déjà vu :
<I>P</I>(<I>nB</I>&gt;<I>nA</I>)=1−<I>P</I>(<I>nA</I>&gt;<I>nB</I>)=2/3
</LI></UL>
Il faut donc choisir le dé <TT>C</TT> pour gagner avec une probabilité de 2/3.
</LI><LI CLASS="li-enumerate">l’ordinateur a choisi le dé <TT>C</TT>,
<UL CLASS="itemize"><LI CLASS="li-itemize">
si vous choisissez le dé <TT>D</TT>,<BR>
L’ordinateur gagne si le dé <TT>C</TT> fait six,
donc 
<TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>P</I>(<I>nC</I>&gt;<I>nD</I>)=(2/6)=1/3 </TD></TR>
</TABLE>
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>B</TT>,<BR>
cas déjà vu :
 <I>P</I>(<I>nC</I>&gt;<I>nB</I>)=1−<I>P</I>(<I>nB</I>&gt;<I>nC</I>)=2/3
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>A</TT>,<BR>
cas déjà vu :
 <I>P</I>(<I>nC</I>&gt;<I>nA</I>)=1−<I>P</I>(<I>nA</I>&gt;<I>nC</I>)=5/9
</LI></UL>
Il faut donc choisir le dé <TT>D</TT> pour gagner avec une probabilité de 2/3.
</LI><LI CLASS="li-enumerate">l’ordinateur a choisi le dé <TT>D</TT>,
<UL CLASS="itemize"><LI CLASS="li-itemize">
si vous choisissez le dé <TT>A</TT>,<BR>
cas déjà vu : <I>P</I>(<I>nD</I>&gt;<I>nA</I>)=1−<I>P</I>(<I>nA</I>&gt;<I>nD</I>)=1/3 
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>B</TT>,<BR>
cas déjà vu : <I>P</I>(<I>nD</I>&gt;<I>nB</I>)=1−<I>P</I>(<I>nB</I>&gt;<I>nD</I>)=1/2
</LI><LI CLASS="li-itemize">si vous choisissez le dé <TT>C</TT>,<BR>
cas déjà vu : <I>P</I>(<I>nD</I>&gt;<I>nC</I>)=1−<I>P</I>(<I>nC</I>&gt;<I>nD</I>)=2/3
</LI></UL>
Il faut donc choisir le dé <TT>A</TT> pour gagner avec une probabilité de 2/3.
</LI></OL><P>
<B>Remarque</B><BR>
La relation "le dé <I>N</I><SUB>1</SUB> gagne le dé <I>N</I><SUB>2</SUB>" n’est pas transitive, 
en effet:<BR>
le dé <TT>B</TT> gagne le dé <TT>A</TT>,<BR>
le dé <TT>C</TT> gagne le dé <TT>B</TT>,<BR>
le dé <TT>D</TT> gagne le dé <TT>C</TT>,<BR>
le dé <TT>A</TT> gagne le dé <TT>D</TT>,<BR>
De plus, le jeu est trompeur car le choix ne depend pas du score moyen de 
chaque dé, en effet :<BR>
le dé <TT>A</TT> fait en moyenne un score de 8/3,<BR>
le dé <TT>B</TT> fait en moyenne un score de 3,<BR>
le dé <TT>C</TT> fait en moyenne un score de 10/3,<BR>
le dé <TT>D</TT> fait en moyenne un score de 3 et pourtant le dé <TT>D</TT>
l’emporte sur le dé <TT>C</TT> de moyenne 10/3 mais il perd contre le dé 
<TT>A</TT> qui n’a qu’une moyenne de 8/3 !</P><H2 CLASS="section"><A NAME="toc62"></A><A NAME="htoc154">9.4</A>  Des calculs de moyenne</H2><H3 CLASS="subsection"><A NAME="htoc155">9.4.1</A>  Nombre d’enfants moyen par famille</H3><P>
Dans un pays, le roi a décidé que les familles de ses sujets doivent avoir
des enfants jusqu’à ce qu’elles aient un garçon.<BR>
Quelle est le nombre d’enfants moyen par famille ?</P><P>Si <I>X</I> est la variable aléatoire égale au nombre d’enfants dans une 
famille, on a :
</P><UL CLASS="itemize"><LI CLASS="li-itemize">
 <I>P</I>(<I>X</I>=1)=1/2
</LI><LI CLASS="li-itemize"> <I>P</I>(<I>X</I>=2)=1/2<SUP>2</SUP>
</LI><LI CLASS="li-itemize"> <I>P</I>(<I>X</I>=3)=1/2<SUP>3</SUP>
</LI><LI CLASS="li-itemize">....
</LI><LI CLASS="li-itemize"> <I>P</I>(<I>X</I>=<I>k</I>)=1/2<SUP><I>k</I></SUP>
</LI></UL><P>
Donc  <I>E</I>(<I>X</I>)=∑<SUB><I>k</I>=1</SUB><SUP>+∞</SUP> <I>k</I>*1/2<SUP><I>k</I></SUP><BR>
On tape :<BR>
<TT>sum(k/2</TT><CODE><TT>^</TT></CODE><TT>k,k,1,+infinity)</TT><BR>
On obtient :<BR>
<TT>2</TT><BR>
Donc le nombre moyen d’enfants est 2....On aurait pu s’en douter car dans 
chaque famille il n’y a qu’un seul garçon et comme en moyenne il nait 
autant de filles que de garçons, il y aura en moyenne autant de filles que 
de garçons, soit 2 enfants en moyenne dans chaque famille.</P><H3 CLASS="subsection"><A NAME="htoc156">9.4.2</A>  Nombres triangulaires aléatoires</H3><P>
On tire au hasard des nombres entre 1 et <I>n</I> jusqu’à obtenir 1. Le 
résultat est alors la somme des nombres obtenus. Quel est la moyenne des 
résultats obtenus ?</P><H4 CLASS="subsubsection">La solution mathématique</H4><P>
Supposons pour commencer <I>n</I>=2<BR>
Les résultats peuvent être : <I>R</I>=1,3,5....2<I>p</I>+1....<BR>
On a :<BR>
 <I>P</I>(<I>R</I><SUB>2</SUB>=1)=1/2,<BR>
 <I>P</I>(<I>R</I><SUB>2</SUB>=3)=1/2<SUP>2</SUP><BR>
....
 <I>P</I>(<I>R</I><SUB>2</SUB>=2<I>p</I>+1)=1/2<SUP><I>p</I>+1</SUP><BR>
Donc :<BR>
 <I>E</I>(<I>R</I><SUB>2</SUB>)=∑<SUB><I>p</I>=0</SUB><SUP>+∞</SUP> (2<I>p</I>+1)1/2<SUP><I>p</I>+1</SUP><BR>
On tape :<BR>
<TT>sum((2k+1)/2</TT><CODE><TT>^</TT></CODE><TT>(k+1),k,0,+infinity)</TT><BR>
On obtient :<BR>
<TT>3</TT><BR>
La moyenne de <I>R</I><SUB>2</SUB> vaut donc 1+2=3.<BR>

Peut-on généraliser ?<BR>
Dans le cas général, on tire au hasard des nombres entre 1 et <I>n</I> jusqu’à
obtenir 1. La moyenne des sommes des nombres tirés vaut-elle 
1+2+...+<I>n</I>=<I>n</I>(<I>n</I>+1)/2 ?<BR>
Soit <I>X</I><SUB><I>n</I></SUB> la variable aléatoire égale au nombre de tirages parmi 
1...<I>n</I> qu’il faut effectuer pour obtenir 1.<BR>
On a :<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=1)=1/<I>n</I>,<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=2)=1/<I>n</I><SUP>2</SUP> et les résultats obtenus peuvent 
être :<BR>
2+1=3,3+1=4,...,<I>n</I>+1 qui est une liste <I>L</I><SUB>2</SUB> de taille <I>n</I>−1 et de somme :<BR>
2+3+...<I>n</I>+<I>n</I>−1=(<I>n</I>−1)(<I>n</I>+3)/2<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=3)=1/<I>n</I><SUP>3</SUP> et les résultats obtenus peuvent 
être :<BR>
2+2+1=5,2+3+1=6,3+2+1=6,...<I>n</I>+<I>n</I>+1 qui est une liste <I>L</I><SUB>3</SUB> de taille 
(<I>n</I>−1)<SUP>2</SUP><BR>
Que vaut la somme de cette liste ?<BR>
Chaque terme est la somme de 2 termes et de 1 : dans ces sommes chaque nombre 
(2,3,...n) apparaissent autant de fois donc il y a 2(<I>n</I>−1)<SUP>2</SUP>/(<I>n</I>−1)=2<I>n</I>−2 fois 2,
2<I>n</I>−2 fois 3...2<I>n</I>−2 fois <I>n</I> et (<I>n</I>−1)<SUP>2</SUP> fois 1. La somme cette liste vaut 
donc :<BR>
(<I>n</I>−1)<SUP>2</SUP>+(2<I>n</I>−2)(2+3+...+<I>n</I>)=(<I>n</I>−1)<SUP>2</SUP>+(<I>n</I>−1)<SUP>2</SUP>(<I>n</I>+2)=(<I>n</I>−1)<SUP>2</SUP>(<I>n</I>+3).<BR>
......
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=<I>p</I>)=1/<I>n</I><SUP><I>p</I></SUP> et les résultats obtenus peuvent 
être : 2+...+2+1=2<I>p</I>−1,2+...+3+1=2<I>p</I>,3+2+...+2+1=2<I>p</I>,... (liste <I>L</I><SUB><I>p</I></SUB> de 
taille (<I>n</I>−1)<SUP><I>p</I>−1</SUP>)<BR>
Que vaut la somme de cette liste ?<BR>
Cette somme est composée de <I>p</I>*(<I>n</I>−1)<SUP><I>p</I>−1</SUP> termes.<BR>
Cette somme est la somme :<BR>
de (<I>n</I>−1)<SUP><I>p</I>−1</SUP> fois 1,<BR>
de (<I>p</I>−1)(<I>n</I>−1)<SUP><I>p</I>−2</SUP> fois 2<BR>
....<BR>
de (<I>p</I>−1)(<I>n</I>−1)<SUP><I>p</I>−2</SUP> fois <I>n</I><BR>
 donc elle vaut :<BR>
(<I>n</I>−1)<SUP><I>p</I>−1</SUP>+(<I>p</I>−1)(<I>n</I>−1)<SUP><I>p</I>−2</SUP>(2+3+...+<I>n</I>)=<BR>
(<I>n</I>−1)<SUP><I>p</I>−1</SUP>+(<I>n</I>−1)<SUP><I>p</I>−1</SUP>(<I>p</I>−1)(<I>n</I>+2)/2=(<I>n</I>−1)<SUP><I>p</I>−1</SUP>(1+(<I>p</I>−1)(<I>n</I>+2)/2)=<BR>
(<I>n</I>−1)<SUP><I>p</I>−1</SUP>((<I>p</I>(<I>n</I>+2)−<I>n</I>)/2).<BR>
Donc :<BR>
<I>E</I>(<I>R</I><SUB><I>n</I></SUB>)=∑<SUB><I>p</I>=1</SUB><SUP>+∞</SUP>1/<I>n</I><SUP><I>p</I></SUP>(<I>n</I>−1)<SUP><I>p</I>−1</SUP>(<I>p</I>(<I>n</I>+2)−<I>n</I>)/2<BR>
On tape :<BR>
<TT>sum((n-1)</TT><CODE><TT>^</TT></CODE><TT>(p-1)/n</TT><CODE><TT>^</TT></CODE><TT>p*(p*(n+2)-n)/2 ,p,1,+infinity)</TT><BR>
On obtient :<BR>
<TT>(n</TT><CODE><TT>^</TT></CODE><TT>2+n)/2</TT><BR>
Donc la moyenne de <I>R</I><SUB><I>n</I></SUB> est égale à 1+2+...<I>n</I>
</P><H4 CLASS="subsubsection">La modélisation avec <TT>Xcas</TT></H4><P>
On tape le programme <TT>trialea(r,q,p)</TT> qui tire au hasard des nombres entre
1 et <I>r</I>. On fait <I>p</I> fois des échantillons de taille <I>q</I>, et on dessine
les résultats intermédiaires obtenus :
<TT>l</TT> contient les sommes cumulées des résultats (ici une somme) c’est 
à dire la 
somme d’un échantillon de taille <TT>n=k+1+j*q</TT> avec <TT>k=0..q-1</TT> et
<TT>j=0..p-1</TT>. Dans <TT>Ldiv</TT> on met <TT>evalf(l/n)</TT> lorsque 
<TT>n=q,2*q...p*q</TT> 
</P><PRE CLASS="verbatim">trialea(r,q,p):={
  local j,k,l,n,LdivN,alea;
  LdivN:=NULL;
  l:=0;
  n:=0;
  for (j:=0;j&lt;p;j++){
    for (k:=0;k&lt;q;k++){
      alea:=(rand(r)+1);
      while (alea!=1){
        l:=l+alea;
        alea:=(rand(r)+1);
      }
      l:=l+1;
      n:=n+1;
    }
    LdivN:=LdivN,evalf(l/n);
  }
  return LdivN;
}:;
</PRE><P>On tape :<BR>
<TT>L10:=trialea(10,100,10000);</TT><BR>
<TT>plotlist(L10)</TT><BR>
On obtient :<BR><BR>
 <IMG SRC="cascas063.png">
</P><H3 CLASS="subsection"><A NAME="htoc157">9.4.3</A>  Factorielles aléatoires</H3><P>
On tire au hasard des nombres entre 1 et <I>n</I> jusqu’à obtenir 1. Le 
résultat est alors le produits des nombres obtenus. Quel est la moyenne des 
résultats obtenus ?</P><H4 CLASS="subsubsection">La solution mathématique</H4><P>
Cela ressemble à l’exercice précédent.....<BR>
Supposons pour commencer <I>n</I>=2.<BR>
Les résultats peuvent être : <I>R</I>=1,2,4....2<SUP><I>p</I></SUP>...<BR>
On a :<BR>
 <I>P</I>(<I>R</I><SUB>2</SUB>=1)=1/2,<BR>
 <I>P</I>(<I>R</I><SUB>2</SUB>=2)=1/2<SUP>2</SUP><BR>
....
 <I>P</I>(<I>R</I><SUB>2</SUB>=2<SUP><I>p</I></SUP>)=1/2<SUP><I>p</I>+1</SUP><BR>
Donc :<BR>
 <I>E</I>(<I>R</I><SUB>2</SUB>)=∑<SUB><I>p</I>=0</SUB><SUP>+∞</SUP> 2<SUP><I>p</I></SUP>1/2<SUP><I>p</I>+1</SUP>
On tape :<BR>
<TT>sum(2</TT><CODE><TT>^</TT></CODE><TT>k/2</TT><CODE><TT>^</TT></CODE><TT>(k+1),k,0,+infinity)</TT><BR>
On obtient :<BR>
<TT>infinity</TT><BR>
La moyenne de <I>R</I><SUB>2</SUB> est donc infinie.<BR>

Peut-on généraliser ?
Dans le cas général, on tire au hasard des nombres entre 1 et <I>n</I> jusqu’à
obtenir 1. La moyenne des produits des nombres tirés est-elle 
infinie ?
Soit <I>X</I><SUB><I>n</I></SUB> la variable aléatoire égale au nombre <I>p</I> de tirages parmi 
1...<I>n</I> qu’il faut effectuer pour obtenir 1.<BR>
On a :<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=1)=1/<I>n</I>,<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=2)=1/<I>n</I><SUP>2</SUP> et les résultats obtenus peuvent 
être :<BR>
2*1=2,3*1=3,...,<I>n</I>*1 (liste <I>L</I><SUB>2</SUB> de taille <I>n</I>−1 de produit 
2*3+...*<I>n</I>=<I>n</I>!)<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=3)=1/<I>n</I><SUP>3</SUP> et les résultats obtenus peuvent 
être :<BR>
2*2*1=4,2*3*1=6,3*2*1=6,...<I>n</I>*<I>n</I>*1 (liste <I>L</I><SUB>3</SUB> de taille (<I>n</I>−1)<SUP>2</SUP>)<BR>
Que vaut la somme de cette liste ?<BR>
Chaque terme de cette liste provient du developpement de :<BR>
(2+3+...+<I>n</I>)<SUP>2</SUP> donc la somme de la liste <I>L</I><SUB>3</SUB> vaut (2+3+...+<I>n</I>)<SUP>2</SUP><BR>
.....<BR>
 <I>P</I>(<I>X</I><SUB><I>n</I></SUB>=<I>p</I>)=1/<I>n</I><SUP><I>p</I></SUP> et les résultats obtenus peuvent 
être :<BR>
2*...*2*1=2<SUP><I>p</I>−1</SUP>,2+...+3+1=2<I>p</I>−2*3,,... (liste <I>L</I><SUB><I>p</I></SUB> de 
taille (<I>n</I>−1)<SUP><I>p</I>−1</SUP>)<BR>
Que vaut la somme de cette liste ?<BR>
Chaque terme de cette liste provient du developpement de :<BR>
(2+3+...+<I>n</I>)<SUP><I>p</I>−1</SUP> donc la somme de la liste <I>L</I><SUB><I>p</I></SUB> vaut (2+3+...+<I>n</I>)<SUP><I>p</I>−1</SUP><BR>
Donc :
</P><TABLE CLASS="display dcenter"><TR VALIGN="middle"><TD CLASS="dcell"><I>E</I>(<I>R</I><SUB><I>n</I></SUB>)=</TD><TD CLASS="dcell"><TABLE CLASS="display"><TR><TD CLASS="dcell" ALIGN="center">+∞</TD></TR>
<TR><TD CLASS="dcell" ALIGN="center"><FONT SIZE=6>∑</FONT></TD></TR>
<TR><TD CLASS="dcell" ALIGN="center"><I>p</I>=1</TD></TR>
</TABLE></TD><TD CLASS="dcell"><TABLE CLASS="display"><TR><TD CLASS="dcell" ALIGN="center">1</TD></TR>
<TR><TD CLASS="hbar"></TD></TR>
<TR><TD CLASS="dcell" ALIGN="center"><I>n</I><SUP><I>p</I></SUP></TD></TR>
</TABLE></TD><TD CLASS="dcell">(2+3+...+<I>n</I>)<SUP><I>p</I>−1</SUP>=</TD><TD CLASS="dcell"><TABLE CLASS="display"><TR><TD CLASS="dcell" ALIGN="center">1</TD></TR>
<TR><TD CLASS="hbar"></TD></TR>
<TR><TD CLASS="dcell" ALIGN="center"><I>n</I></TD></TR>
</TABLE></TD><TD CLASS="dcell"><TABLE CLASS="display"><TR><TD CLASS="dcell" ALIGN="center">+∞</TD></TR>
<TR><TD CLASS="dcell" ALIGN="center"><FONT SIZE=6>∑</FONT></TD></TR>
<TR><TD CLASS="dcell" ALIGN="center"><I>p</I>=1</TD></TR>
</TABLE></TD><TD CLASS="dcell"> ((<I>n</I>+2)*(<I>n</I>−1)/(2*<I>n</I>))<SUP><I>p</I>−1</SUP></TD></TR>
</TABLE><P>
On obtient une somme géométrique de raison (<I>n</I>+2)*(<I>n</I>−1)/(2*<I>n</I>)&gt;=1 pour 
<I>n</I>&gt;=2.<BR>
On tape :<BR>
<TT>sum(((2+n)*(n-1)/2)</TT><CODE><TT>^</TT></CODE><TT>p-1</TT><TT>/(n)</TT><CODE><TT>^</TT></CODE><TT>p ,p,1,k)</TT><BR>
On obtient :<BR>
<TT>infinity</TT><BR>
Donc la moyenne de <I>R</I><SUB><I>n</I></SUB> est infinie.
</P><H4 CLASS="subsubsection">La modélisation avec <TT>Xcas</TT></H4><P>
On tape le programme <TT>factalea(r,q,p)</TT> qui tire au hasard des nombres entre
1 et <I>r</I>. On fait <I>p</I> fois des échantillons de taille <I>q</I>, et on dessine
les résultats intermédiaires obtenus :
<TT>l</TT> contient les sommes cumulées des résultats (ici un produit) c’est 
à dire la 
somme d’un échantillon de taille <TT>n=k+1+j*q</TT> avec <TT>k=0..q-1</TT> et
<TT>j=0..p-1</TT>. Dans <TT>Ldiv</TT> on met <TT>evalf(l/n)</TT> lorsque 
<TT>n=q,2*q...p*q</TT> 
</P><PRE CLASS="verbatim">factalea(r,q,p):={
  local j,k,l,n,LdivN,alea;
  LdivN:=NULL;
  l:=0;
  n:=0;
  for (j:=0;j&lt;p;j++){
    for (k:=0;k&lt;q;k++){
      alea:=(rand(r)+1);
      f:=1
      while (alea!=1){
        f:=f*alea;
        alea:=(rand(r)+1);
      }
      l:=l+f;
      n:=n+1;
    }
    LdivN:=LdivN,evalf(l/n);
  }
  return [LdivN];
}:;
</PRE><P>On tape :<BR>
<TT>F3:=factalea(3,10,100);</TT><BR>
<TT>plotlist(F3)</TT><BR>
On obtient :<BR><BR>
 <IMG SRC="cascas064.png">
</P><HR>
<A HREF="cascas008.html"><IMG SRC="previous_motif.gif" ALT="Previous"></A>
<A HREF="index.html"><IMG SRC="contents_motif.gif" ALT="Up"></A>
<A HREF="cascas010.html"><IMG SRC="next_motif.gif" ALT="Next"></A>
</BODY>
</HTML>
