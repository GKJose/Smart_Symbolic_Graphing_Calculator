<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
  <meta charset="utf-8">
  <meta name=viewport content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="keywords" content="xcas Numworks">
<title>Outils Numworks</title>
<style id="document_style" type="text/css">
* { font-family: sans-serif }

body {
    margin: 20px 15%;
    padding: 30px;
    border-radius: 45px;
    border: 8px solid #55b4d4;
}

ul.b {
  list-style-type: square;
}

/* pour les tous petits écrans */
@media only screen and (max-width: 500px){
    body {
        margin: 20px;
        padding: 20px;
        border-radius: 40px;
    }
}

/* pour les petits écrans */
@media only screen and (max-width: 800px){
    ul { padding-inline-start: 20px }
    h1 { text-align: center }
}

/* pour les grands écrans */
@media only screen and (min-width: 1300px){
    body {
        margin: 50px 20%;
        padding: 50px;
        border-radius: 60px;
    }
}

/* pour éviter que les boutons se touchent d'une <li> à une autre */

li {
    margin-top: 5px;
}

/* pour les boutons */

button {
    height: 30px;
    padding: 0px 15px;
}

input { padding: 5px 15px }

button, input {
    border: solid 0;
    border-radius: 15px;
    cursor: pointer;
    background: #86b300;
    transition: background 200ms;
}

button:hover, input:hover {
    background: #99bf4d;
}

div {
max-height: 300px;
overflow:auto
}
</style>
</head>
<script src="numworks.js"></script>
<script src="nws_sig.js"></script>
<script src="nws.js"></script>
<script src="FileSaver.js"></script>
<script src="jszip.min.js"></script>

<body>
<h1>Kit de connection Numworks non verrouill&eacute;e</h1>
<b>Attention, ne faites pas de mise &agrave; jour de votre
calculatrice sur le site de Numworks!</b>
En effet, une mise &agrave; jour sur le site de Numworks verrouillerait
votre calculatrice et la rendrait irr&eacute;versiblement
incompatible avec Xcas. Si vous avez fait une mise &agrave; jour
depuis une version non verrouill&eacute;e
sans en avoir compris les cons&eacute;quences, je vous sugg&egrave;re
de contacter Numworks pour leur demander une solution permettant
d'effacer tous leurs logiciels de la calculatrice, cf. cet
<a
href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/khicasnw.html#sec60">argumentaire
juridique</a>, vous pourrez ensuite installer KhiCAS en utilisant le
bouton R&eacute;cup&eacute;ration ci-dessous.
<br>
<b>Installez KhiCAS</b> (bouton ci-dessous) pour transformer votre
Numworks N0110 en calculatrice CAS, tr&egrave;s utile pour des &eacute;tudes
scientifiques (vous &eacute;conomisez environ
50 euros par rapport aux calculatrices CAS concurrentes). Et si
vous arretez les maths, vous pourrez revendre votre calculatrice CAS
sur le march&eacute; d'occasion &agrave; un prix plus &eacute;lev&eacute;!
<hr>
Cette page contient un kit de connexion
avec votre calculatrice qui vous &eacute;vitera d'aller sur
le workshop de Numworks et de faire une mise &agrave; jour par
inadvertance.
Vous pouvez aussi &eacute;changer des scripts avec la calculatrice depuis
  <a
  href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/xcasfr.html">
  Xcas pour Firefox </a>, les modifier, les tester, et les partager
  sous forme de liens par email ou
  sur des forums.

<ul id="main" class="b">
  <li> <button class="bouton" onclick="UI.nws_detect(UI.nws_detect_success,UI.nws_detect_failure)">D&eacute;tecter</button>
la Numworks. A faire si les boutons ci-dessous ne fonctionnent pas. Si
  l'&eacute;cran de la calculatrice est &eacute;teint, cliquez sur
  le bouton R&eacute;cup&eacute;ration.
  <li> 
<button id="numworks_load" class="bouton" onclick="UI.numworks_load(false)">Numworks→</button>
  : sauvegarde un script Python de la calculatrice
  <span id='storelist'></span>
  <li><button id="numworks_load" class="bouton"
  onclick="UI.numworks_load(true)">Backup</button> :
  sauvegarde tous les scripts de la calculatrice.
  <li>
  <input id="loadfileinput" accept=".py,.nws" type="file"
  title="Cliquer ici pour charger un fichier Python (.py) ou un backup (.nws)"
  onchange="UI.loadFile((this.files)[0]);">
  <button onclick="UI.loadFile(($id('loadfileinput').files)[0]);">→Numworks</button>
  : envoie un script (extension <tt>.py</tt>) ou restaure un backup
  (<tt>.nws</tt>) vers la calculatrice.
  <li> 
  <button
  onclick="UI.numworks_install_delta();">Installation
  KhiCAS (05/10/21)</button>: sur votre calculatrice Numworks
  N0110. <a
  href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/khicasnw.html">Documentation</a>,
  <a href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/khicasnw.html#sec45">Licences</a>,
  <a
  href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/khicasnw.html#sec47">Source</a>.
  <li> <button
  onclick="if (confirm(UI.langue==-1?'Veuillez confirmer que l\'installation de cette archive personnalisee est sous votre responsabilite.':'Please confirm that installing a custom archive is under your responsability.')) $id('persoinit').style.display='inline'">Installation
  personnalis&eacute;e</button> (<button
  onclick="UI.install_delta(1,1);">Khi</button> doit etre
  install&eacute;)
  <br>
  <span id="persoinit" style="display:none"> Initialiser depuis la
    <button onclick="UI.numworks_gettar(1)">calculatrice→</button>
    ou
    <button onclick="UI.numworks_gettar(0)">KhiCAS</button>
    ou
  <input id="loadtarinput" accept=".tar" type="file"
  title="Cliquer ici pour charger un fichier archive (.tar)"
  onchange="UI.file_gettar((this.files)[0]); $id('perso').style.display='inline';">
  <!-- <button
  onclick="UI.file_gettar(($id('loadtarinput').files)[0]);$id('perso').style.display='inline';">sauvegarde tar</button>-->
ou <button onclick="UI.tar_clear(UI.numworks_buffer)">Effacer</button>
<br>
  <span id="perso" style="display:none">
    Ajouter des fichiers:
    <input id="addtarinput"  type="file"
    title="Cliquer ici pour ajouter un fichier"
    onchange="UI.tar_addfile((this.files)[0]);">
<!--    <button
  onclick="UI.tar_addfile(($id('addtarinput').files)[0]);">Ajouter</button> -->
    <hr>
    <div  id="listtarfiles" >
    </div>
    <hr>
    <button onclick="UI.numworks_sendtar();">Installer</button> ou
    <button onclick="UI.file_savetar(UI.numworks_buffer,'myapps.tar')">sauvegarder</button> la personnalisation.
    
  </span>
  </span>
  <li> Progression de l'installation ou de la certification<hr>
  <span id="ploglegend"></span>
  <progress id="plog" value=0 style="display:none"></progress>
  <div id="output" style="max-height: 200px; overflow:auto"></div>
  <hr>
  <li>
  <strong>Lutte contre la fraude :</strong> pour certifier que le firmware d'une calculatrice Numworks N0110 est
  une version non modifi&eacute;e de KhiCAS, cliquez sur l'un des
  deux boutons
  <br>
  <button
  onclick="UI.numworks_certify(nws_sig,false);">Certification</button> 
  <button
  onclick="UI.numworks_certify(nws_sig,true);">Certification + R/W test</button>
  <br>
  Le premier test prend 15 secondes environ, le deuxi&egrave;me est plus
s&eacute;curis&eacute; mais dure 1 minute environ. Ce test peut etre fait
par un surveillant pendant un examen depuis son smartphone depuis
<a
href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/nws.html">ce
lien</a>
avec un
<a href="https://tiplanet.org/forum/viewtopic.php?f=99&t=25091">cable smartphone-Numworks</a>.
  <li>
  <button
  onclick="UI.numworks_rescue();">R&eacute;cup&eacute;ration</button> :
  Assistance si votre calculatrice N0110 est bloqu&eacute;e.<br>
  Connectez la calculatrice, appuyez sur la touche 6 de la
  calculatrice, enfoncez un stylo dans le bouton RESET au dos
  en laissant la touche 6 appuy&eacute;e,
  relachez la touche 6, l'&eacute;cran doit etre &eacute;teint et la
  diode rouge allum&eacute;e.
  <br>
  Si le message <tt>http://... tente de se connecter</tt> apparait, cliquez
  sur <tt>STM32 BOOTLOADER associ&eacute;</tt> puis sur le bouton
  <tt>Connexion</tt>.
  <br>
  Si la r&eacute;cup&eacute;ration ne fonctionne pas, essayez avec
  Xcas PC.
</ul>
<hr>
<b>Si la connexion avec la calculatrice ne fonctionne pas</b> alors
qu'elle est allum&eacute;e en affichant La calculatrice est connect&eacute;e,
commencez par d&eacute;tecter votre calculatrice (bouton
D&eacute;tecter ci-dessus). Si la calculatrice est connect&eacute;e
mais ne s'allume pas, cliquez sur le bouton R&eacute;cup&eacute;ration.
<!-- Si cela ne fonctionne toujours pas.
il faut peut-etre installer un driver sur votre ordinateur:
<ul class="b">
  <li> pour Windows, vous pouvez installer le driver de <a
  href="https://workshop.numworks.com/files/drivers/windows/numworks-driver-win64.msi">
  Numworks</a> ou
  <a href="https://zadig.akeo.ie/">Zadig</a>
<li> pour linux, copiez <a
  href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/50-numworks-calculator.rules">ce  fichier</a>
  dans <tt>/etc/udev/rules.d</tt>
</ul>
-->
En cas de probl&egrave;me persistant de connexion, essayez avec dfu-util
comme expliqu&eacute; ici dans la section
<a
href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/numworks/khicasnw.html#sec3">Installation manuelle</a>
ou avec
<a
href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/install_fr">Xcas</a>.
<hr>
Cette page fonctionne uniquement avec un navigateur compatible webusb,
par exemple Chromium ou Chrome ou Edge et depuis un serveur web. Firefox n'a pas de
support pour webusb pour des raisons de s&eacute;curit&eacute;, si
vous avez des craintes &agrave; ce sujet, vous pouvez connecter votre
calculatrice Numworks avec 
<a
href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/install_fr">Xcas</a>
(version Windows, Linux et Mac).
<br>
Pour les experts souhaitant utiliser cette page en local,
activez un serveur web local, par exemple en tapant
dans un Terminal la commande <tt>python3 -m http.server</tt>
depuis le r&eacute;pertoire o&ugrave; vous avez d&eacute;compress&eacute;
<a href="https://www-fourier.univ-grenoble-alpes.fr/~parisse/giac/xcashtml.zip">xcashtml.zip</a>, puis cliquez
<a href="localhost:8000/nws.html">sur ce lien</a>.


<hr>
	      Remerciements &agrave; Maxime Friess pour le script
	      <a
                    href="https://github.com/M4xi1m3/numworks.js/blob/master/README.md"
                    target="_blank">Numworks.js</a> (sous licence
MIT). Cette page utilise aussi
<a href="https://github.com/ankitrohatgi/tarballjs">tarballjs</a>
<a
	      href="https://stuk.github.io/jszip/">JSZip</a> pour lire
	      des fichiers zip et <a
	      href="https://github.com/eligrey/FileSaver.js/blob/master/src/FileSaver.js">FileSaver.js</a>
	      pour sauvegarder des fichiers.
<br> Remerciements &agrave; Elio Poletti pour le style de la page 

<hr>
<address></address>
<!-- hhmts start -->Last modified: Tue Oct  5 15:35:45 CEST 2021 <!-- hhmts end -->
</body> </html>
<script language="javascript">
window.onload = function (e) {
if (!navigator.usb) alert(UI.langue==-1?'Utilisez un navigateur compatible usb comme Chromium ou Chrome ou Edge':'Requires a webusb browser like Chromium or Chrome or Edge');
}
</script>